<!DOCTYPE html>
<html lang="en" style="height: 100%;">
<%- include('../partials/head') %>
<link rel="stylesheet" href="/css/pages/channel.css">
<link rel="stylesheet" href="/css/pages/channel-playlists.css">
<link rel="stylesheet" href="/css/theme/home-theme.css">

<body>
    <!-- header : 홈 화면 상단바 -->
    <%- include('../partials/header') %>

    <!-- nav : 홈 화면 네비게이션 -->
    <%- include('../partials/nav') %>

    <!-- main : 홈 화면 블록 -->
    <main class="theme-wrapper">
        <%- include('../partials/channel-header', { channelInfo, activeTab }) %>
        
        <div class="playlist-list">
            <% sectionTitles.forEach((title, index) => {
                const playlist = playlists[index];
            %>
            <div class="playlist-card" 
                data-first-id="<%= playlist.videos[0].id %>"
                data-channel-id="<%= channelInfo.id %>"
                data-playlist-name="<%= title %>">
                <div class="playlist-image-wrapper no-invert">
                    <img src="<%= playlist.videos[0].thumbnail %>" alt="<%= title %>">
                    <div class="video-count-badge">
                        <img src="/assets/icons/playlist.svg" alt="Playlist Icon" class="badge-icon">
                        <%= playlist.total %> videos
                    </div>
                    <div class="playlist-overlay">
                        <span class="play-text">▶ Play all</span>
                    </div>
                </div>
                <h3><%= title %></h3>
                <a href="#" class="view-full-link">View full playlist</a>
            </div>
            <% }); %>
        </div>        
        
    </main>
    <script src="/js/common/buttonHeader.js"></script>
    <script src="/js/common/thumbnail-play.js"></script>
    <script src="/js/common/sidebarshowmore.js"></script>
    <script src="/js/common/sidebarToggle.js"></script>
    <script src="/js/common/button.js"></script>
    <script src="/js/common/subscriber-nav.js"></script>
    <script src="/js/common/theme-toggle.js"></script>
    
    <script src="/js/channel/channel-search.js"></script>
    <script src="/js/channel/channel-nav-scroll.js"></script>
    <script src="/js/channel/channel-scroll.js"></script>
    <script src="/js/channel/nav-search.js"></script>
    <script src="/js/channel/play-all.js"></script>
</body>
</html>